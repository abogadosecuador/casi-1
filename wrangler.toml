name = "abogados"
# Worker ultra optimizado - Producción completa
main = "cloudflare-worker-clean.js"
compatibility_date = "2025-04-23"
# Account ID de producción
account_id = "70661c46051942965565a5c976219dde"
# Configuración de ASSETS para servir archivos estáticos
assets = "./dist"

# Configurar el worker como un módulo ES para soportar bindings D1
[build]
command = "npm run build"
[build.upload]
format = "modules"
dir = "."
main = "./cloudflare-worker-clean.js"

# Configuración simplificada para máxima compatibilidad
[site]
bucket = "./dist"

# Configuración de KV y D1 Database - PRODUCCIÓN
[[kv_namespaces]]
binding = "KV"
id = "1f3d19c7f0a74ff0bec6b1b9abf60ddf"
preview_id = "1f3d19c7f0a74ff0bec6b1b9abf60ddf"

[[d1_databases]]
binding = "DB"
database_name = "sqld1"
database_id = "c4e5e40d-ade6-4486-ac85-4a0b9a1d7b4f"

# Configuración de entorno
[env.production]
name = "abogado-wilson"
routes = [
  "abogado-wilson.anipets12.workers.dev/*"
]

# Variables de entorno - NOTA: Las claves sensibles deben configurarse mediante la UI de Cloudflare o CLI
[vars]
ENVIRONMENT = "production"
CORS_ORIGIN = "*"
API_ENABLED = "true"
SUPABASE_URL = "https://kbybhgxqdefuquybstqk.supabase.co"
SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtieWJoZ3hxZGVmdXF1eWJzdHFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NjAwODMsImV4cCI6MjA3MzEzNjA4M30.s1knFM9QXd8CH8TC0IOtBBBvb-qm2XYl_VlhVb-CqcE"
CLIENT_VERSION = "3.0.0"
DISABLE_MULTIPLE_CLIENTS = "true"
N8N_WEBHOOK_URL = "https://n8n-latest-hurl.onrender.com"
WHATSAPP_NUMBER = "+593988835269"
CONTACT_EMAIL = "ecuadorabogado1@gmail.com"
PAYPAL_CLIENT_ID = "AWxKgr5n7ex5Lc3fDBOooaVHLgcAB-KCrYXgCmit9DpNXFIuBa6bUypYFjr-hAqARlILGxk_rRTsBZeS"
CLOUDFLARE_ACCOUNT_ID = "70661c46051942965565a5c976219dde"
CLOUDINARY_CLOUD_NAME = "dg3s7tqoj"
GOOGLE_API_KEY = "AIzaSyA37SvhBU2-14l-UO5qBr7tLsjWE5nCAtw"
GEMINI_API_KEY = "AIzaSyAUUNTJ275mO4JyHw3S1RseumPB2L1e_tU"

# Secretos (para configurar mediante wrangler secret o la UI de Cloudflare)
# wrangler secret put SUPABASE_KEY
# wrangler secret put TURSO_AUTH_TOKEN
# wrangler secret put JWT_SECRET
# wrangler secret put CLOUDFLARE_API_TOKEN
# wrangler secret put N8N_API_KEY
# wrangler secret put TURNSTILE_SECRET_KEY
